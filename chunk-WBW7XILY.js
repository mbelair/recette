import{a as re,b as ae}from"./chunk-24G2MDP6.js";import{a as J,b as K}from"./chunk-Y4LV4BO2.js";import{a as oe}from"./chunk-ZNL4C7BF.js";import{b as Y,d as Z,g as ee,h as te}from"./chunk-DQSKVTUK.js";import{a as G,e as H}from"./chunk-GB4SDFSF.js";import{a as A,d as j,l as ie,q as ne}from"./chunk-I4VRNCHD.js";import{b as $,d as B}from"./chunk-E3AQEYJ5.js";import{$b as k,Ab as E,Ba as o,Ca as g,Cb as D,Db as I,Dc as N,Dd as q,Ec as x,Fb as F,Gb as R,Id as U,Kd as X,Pd as z,Ra as m,Rd as Q,Ua as p,_b as T,ac as w,bb as i,cb as n,cc as L,db as O,ec as V,ha as M,hb as v,kb as y,mb as d,oa as u,pa as C,s as h,ub as a,vb as _,wb as f,xb as P,yb as b,zb as S,zd as W}from"./chunk-D7P2BXP5.js";var pe=e=>({isColumnFlex:e});function me(e,r){if(e&1&&(i(0,"mat-chip",13),a(1),n()),e&2){let t=r.$implicit,c=d(2);o(),_(c.getTypeRepasLabel(t))}}function de(e,r){if(e&1&&(i(0,"mat-chip",15),a(1),n()),e&2){let t=r.$implicit;o(),_(t.nom)}}function se(e,r){if(e&1&&(i(0,"p")(1,"span",3),a(2,"\xC9tiquettes"),n(),i(3,"mat-chip-set"),m(4,de,2,1,"mat-chip",14),n()()),e&2){let t=d(2);o(4),p("ngForOf",t.recette.tags)}}function _e(e,r){if(e&1){let t=v();i(0,"button",16),y("click",function(){u(t);let l=d(2);return C(l.editRecette())}),a(1,"Modifier"),n()}}function ge(e,r){if(e&1&&(i(0,"h3"),a(1),n()),e&2){let t=d().$implicit;o(),_(t.nom)}}function fe(e,r){if(e&1&&(i(0,"li")(1,"mat-checkbox",17),a(2),n()()),e&2){let t=r.$implicit,c=d(3);o(2),f(" ",t.getLabel(c.scale)," ")}}function ue(e,r){if(e&1&&(i(0,"div"),m(1,ge,2,1,"h3",5),i(2,"ul"),m(3,fe,3,1,"li",11),n()()),e&2){let t=r.$implicit;o(),p("ngIf",!t.isDefaultCategory),o(2),p("ngForOf",t.ingredient)}}function Ce(e,r){if(e&1&&(i(0,"h3"),a(1),n()),e&2){let t=d().$implicit;o(),_(t.nom)}}function ve(e,r){if(e&1&&(i(0,"li")(1,"mat-checkbox"),a(2),n()()),e&2){let t=r.$implicit;o(2),P(" ",t.ordre+1,". ",t.text," ")}}function xe(e,r){if(e&1&&(i(0,"div"),m(1,Ce,2,1,"h3",5),i(2,"ul"),m(3,ve,3,2,"li",11),n()()),e&2){let t=r.$implicit;o(),p("ngIf",!t.isDefaultCategory),o(2),p("ngForOf",t.preparation)}}function he(e,r){if(e&1){let t=v();i(0,"div",1)(1,"h1"),a(2),n(),i(3,"ul",2)(4,"li")(5,"span",3),a(6,"Pr\xE9paration"),n(),i(7,"span"),a(8),n()(),i(9,"li")(10,"span",3),a(11,"Cuisson"),n(),i(12,"span"),a(13),n()(),i(14,"li")(15,"span",3),a(16,"Rendement"),n(),i(17,"span"),a(18),n()()(),i(19,"p")(20,"span",3),a(21,"Type de repas"),n(),i(22,"mat-chip-set"),m(23,me,2,1,"mat-chip",4),n()(),m(24,se,5,1,"p",5),i(25,"div")(26,"mat-form-field")(27,"mat-label"),a(28,"\xC9chelle"),n(),i(29,"input",6),E("ngModelChange",function(l){u(t);let s=d();return S(s.scale,l)||(s.scale=l),C(l)}),n()()(),m(30,_e,2,0,"button",7),O(31,"app-liste-epicerie-button",8),i(32,"div",9),F(33,"async"),i(34,"div",10)(35,"h2"),a(36,"Ingr\xE9dients"),n(),m(37,ue,4,2,"div",11),n(),i(38,"div",12)(39,"h2"),a(40,"Pr\xE9paration"),n(),m(41,xe,4,2,"div",11),n()()()}if(e&2){let t=d();o(2),_(t.recette.nom),o(6),f(" ",t.recette.tempsPreparation," min "),o(5),f(" ",t.recette.tempsCuisson," min "),o(5),f("",t.recette.nombrePortion," portions"),o(5),p("ngForOf",t.recette.typeRepas),o(),p("ngIf",t.recette.tags.length>0),o(5),b("ngModel",t.scale),o(),p("ngIf",t.isDev()),o(),p("recette",t.recette),o(),p("ngClass",I(14,pe,R(33,12,t.isColumnFlex$))),o(5),p("ngForOf",t.recette.categorieIngredient),o(4),p("ngForOf",t.recette.categoriePreparation)}}var Ue=(()=>{let r=class r{constructor(c,l,s,ce){this.service=c,this.route=l,this.router=s,this.breakpointObserver=ce,this.id=-1,this.recette=null,this.scale=1,this.isColumnFlex$=this.breakpointObserver.observe([x.XSmall,x.Small]).pipe(h(le=>le.matches))}ngOnInit(){this.route.params.subscribe(c=>{this.id=+c.id,this.service.getRecette(this.id).subscribe({next:l=>{this.recette=l}})})}getUnitLabel(c){return ie.fromTypeCode(c.unite).getFormatedLabel(c.quantite>1)}editRecette(){this.router.navigate(["edit-recette",this.recette.id])}isDev(){return!Q.production}getTypeRepasLabel(c){return te.fromTypeCode(c).label}};r.\u0275fac=function(l){return new(l||r)(g(ne),g($),g(B),g(N))},r.\u0275cmp=M({type:r,selectors:[["app-recette-detail"]],standalone:!0,features:[D],decls:1,vars:1,consts:[["class","recette-detail",4,"ngIf"],[1,"recette-detail"],[1,"recipe-info-list"],[1,"bold"],["class","typeCode",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","type","number",3,"ngModelChange","ngModel"],["mat-stroked-button","",3,"click",4,"ngIf"],[3,"recette"],[1,"recetteDiv",3,"ngClass"],[1,"ingredientDiv"],[4,"ngFor","ngForOf"],[1,"preparationDiv"],[1,"typeCode"],["class","tags",4,"ngFor","ngForOf"],[1,"tags"],["mat-stroked-button","",3,"click"],["color","primary"]],template:function(l,s){l&1&&m(0,he,42,16,"div",0),l&2&&p("ngIf",s.recette!=null)},dependencies:[V,T,k,w,L,ae,re,j,A,ee,Y,Z,K,J,H,G,z,W,X,q,U,oe],styles:['.recette-detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.recette-detail[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500}.recette-detail[_ngcontent-%COMP%]   .mat-mdc-checkbox-checked[_ngcontent-%COMP%]     label{color:#888;text-decoration:line-through}.recette-detail[_ngcontent-%COMP%]   .recetteDiv[_ngcontent-%COMP%]{display:flex;flex-direction:row}.recette-detail[_ngcontent-%COMP%]   .recetteDiv[_ngcontent-%COMP%]   .ingredientDiv[_ngcontent-%COMP%], .recette-detail[_ngcontent-%COMP%]   .recetteDiv[_ngcontent-%COMP%]   .preparationDiv[_ngcontent-%COMP%]{flex:1 1 100%}.recette-detail[_ngcontent-%COMP%]   .recetteDiv.isColumnFlex[_ngcontent-%COMP%]{flex-direction:column}.recette-detail[_ngcontent-%COMP%]   .recipe-info-list[_ngcontent-%COMP%]{display:flex;padding:0;flex-wrap:wrap}.recette-detail[_ngcontent-%COMP%]   .recipe-info-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:auto;position:relative}.recette-detail[_ngcontent-%COMP%]   .recipe-info-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child){padding:0 1rem}.recette-detail[_ngcontent-%COMP%]   .recipe-info-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child):before{background-color:gray;content:"";display:flex;height:calc(100% - .4rem);left:0;position:absolute;top:.2rem;width:.1rem}.recette-detail[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:550}.recette-detail[_ngcontent-%COMP%]   mat-chip.tags[_ngcontent-%COMP%]{--mdc-chip-elevated-container-color: #e0e0ff}.recette-detail[_ngcontent-%COMP%]   mat-chip.typeCode[_ngcontent-%COMP%]{--mdc-chip-elevated-container-color: #ffdad6 }.recette-detail[_ngcontent-%COMP%]   app-liste-epicerie-button[_ngcontent-%COMP%]{margin-left:5px}']});let e=r;return e})();export{Ue as RecetteDetailComponent};
